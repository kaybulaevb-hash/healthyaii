# üçΩÔ∏è Telegram Bot –¥–ª—è –ü–ª–∞–Ω–∞ –ü–∏—Ç–∞–Ω–∏—è

Telegram-–±–æ—Ç –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π —á–∏—Ç–∞–µ—Ç Excel-—Ñ–∞–π–ª —Å 15-–¥–Ω–µ–≤–Ω—ã–º –ø–ª–∞–Ω–æ–º –ø–∏—Ç–∞–Ω–∏—è –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –±–ª—é–¥–∞ –∏ —Ä–µ—Ü–µ–ø—Ç—ã –ø–æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º—É –¥–Ω—é.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìÖ **15-–¥–Ω–µ–≤–Ω—ã–π –ø–ª–∞–Ω –ø–∏—Ç–∞–Ω–∏—è** - –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –¥–Ω—è–º
- üç≥ **4 –ø—Ä–∏–µ–º–∞ –ø–∏—â–∏ –≤ –¥–µ–Ω—å** - M1 (–∑–∞–≤—Ç—Ä–∞–∫), M2 (–æ–±–µ–¥), M3 (–ø–æ–ª–¥–Ω–∏–∫), M4 (—É–∂–∏–Ω)
- üì± **–£–¥–æ–±–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã** - –±—ã—Å—Ç—Ä—ã–π –¥–æ—Å—Ç—É–ø –∫ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏
- üí° **–°–æ–≤–µ—Ç—ã –¥–Ω—è** - —Å –ø–æ–º–æ—â—å—é OpenAI API –∏–ª–∏ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ —Å–æ–≤–µ—Ç—ã
- üîí **–ó–∞—â–∏—â–µ–Ω–Ω—ã–π webhook** - –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ —Å–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω
- üíæ **–•—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è** - Vercel KV –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üé® **–ö—Ä–∞—Å–∏–≤–æ–µ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - HTML-—Ä–∞–∑–º–µ—Ç–∫–∞ –¥–ª—è —É–¥–æ–±–Ω–æ–≥–æ —á—Ç–µ–Ω–∏—è

## üöÄ –ö–æ–º–∞–Ω–¥—ã –±–æ—Ç–∞

| –ö–æ–º–∞–Ω–¥–∞ | –û–ø–∏—Å–∞–Ω–∏–µ |
|---------|----------|
| `/start` | –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ –∏ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è |
| `/today` | –ü–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π –¥–µ–Ω—å |
| `/day N` | –ü–æ–∫–∞–∑–∞—Ç—å –æ–±–∑–æ—Ä –¥–Ω—è N (1-15) |
| `/day N m1` | –ü–æ–∫–∞–∑–∞—Ç—å –∑–∞–≤—Ç—Ä–∞–∫ –¥–Ω—è N |
| `/day N m2` | –ü–æ–∫–∞–∑–∞—Ç—å –æ–±–µ–¥ –¥–Ω—è N |
| `/day N m3` | –ü–æ–∫–∞–∑–∞—Ç—å –ø–æ–ª–¥–Ω–∏–∫ –¥–Ω—è N |
| `/day N m4` | –ü–æ–∫–∞–∑–∞—Ç—å —É–∂–∏–Ω –¥–Ω—è N |
| `/next` | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ —Å–ª–µ–¥—É—é—â–∏–π –¥–µ–Ω—å |
| `/prev` | –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –¥–µ–Ω—å |
| `/tip` | –ü–æ–ª—É—á–∏—Ç—å —Å–æ–≤–µ—Ç –¥–Ω—è |

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: Node.js, Vercel Functions
- **Telegram Bot**: Telegraf.js
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: Vercel KV (Redis)
- **Excel –ø–∞—Ä—Å–∏–Ω–≥**: ExcelJS
- **AI —Å–æ–≤–µ—Ç—ã**: OpenAI GPT-4o-mini (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **–î–µ–ø–ª–æ–π**: Vercel

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 18+
- Telegram Bot Token –æ—Ç @BotFather
- Vercel –∞–∫–∫–∞—É–Ω—Ç
- Excel-—Ñ–∞–π–ª —Å –ø–ª–∞–Ω–æ–º –ø–∏—Ç–∞–Ω–∏—è

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –±–æ—Ç–∞

1. –°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞ —É [@BotFather](https://t.me/BotFather)
2. –ü–æ–ª—É—á–∏—Ç–µ `TELEGRAM_TOKEN`
3. –ü—Ä–∏–¥—É–º–∞–π—Ç–µ `TG_SECRET` (–ª—é–±–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª—è –∑–∞—â–∏—Ç—ã webhook)

### 2. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ Excel-—Ñ–∞–π–ª–∞

1. –ü–æ–º–µ—Å—Ç–∏—Ç–µ –≤–∞—à Excel-—Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É `/data`
2. –§–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
   - –î–Ω–∏ (1-15)
   - –ü—Ä–∏–µ–º—ã –ø–∏—â–∏ (M1, M2, M3, M4)
   - –ù–∞–∑–≤–∞–Ω–∏—è –±–ª—é–¥
   - –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã
   - –†–µ—Ü–µ–ø—Ç—ã

### 3. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –Ω–∞ Vercel

1. **Fork/Clone —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è**
   ```bash
   git clone <your-repo-url>
   cd healthyaii-telegram-bot
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**
   ```bash
   npm install
   ```

3. **–°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –Ω–∞ Vercel**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [vercel.com](https://vercel.com)
   - –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
   - –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

4. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è**
   –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ Vercel –¥–æ–±–∞–≤—å—Ç–µ:

   ```env
   TELEGRAM_TOKEN=your_bot_token_here
   TG_SECRET=your_secret_string_here
   KV_REST_API_URL=your_vercel_kv_url
   KV_REST_API_TOKEN=your_vercel_kv_token
   OPENAI_API_KEY=your_openai_key_here  # –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
   PUBLIC_URL=https://your-project.vercel.app
   ```

5. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ Vercel KV**
   - –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø—Ä–æ–µ–∫—Ç–∞ —Å–æ–∑–¥–∞–π—Ç–µ KV –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ `KV_REST_API_URL` –∏ `KV_REST_API_TOKEN`

6. **–î–µ–ø–ª–æ–π**
   - –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
   - Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç

### 4. –ê–∫—Ç–∏–≤–∞—Ü–∏—è –±–æ—Ç–∞

1. –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è –æ—Ç–∫—Ä–æ–π—Ç–µ: `https://your-project.vercel.app/api/set-webhook`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ webhook —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —É—Å–ø–µ—à–Ω–æ
3. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ –≤ Telegram –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`

## üîß –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
‚îú‚îÄ‚îÄ api/                    # Vercel API endpoints
‚îÇ   ‚îú‚îÄ‚îÄ webhook.js         # –û—Å–Ω–æ–≤–Ω–æ–π webhook –¥–ª—è Telegram
‚îÇ   ‚îî‚îÄ‚îÄ set-webhook.js     # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
‚îú‚îÄ‚îÄ lib/                    # –û—Å–Ω–æ–≤–Ω—ã–µ –º–æ–¥—É–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ bot.js             # –õ–æ–≥–∏–∫–∞ –±–æ—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ excel-parser.js    # –ü–∞—Ä—Å–∏–Ω–≥ Excel —Ñ–∞–π–ª–∞
‚îÇ   ‚îú‚îÄ‚îÄ kv-storage.js      # –†–∞–±–æ—Ç–∞ —Å Vercel KV
‚îÇ   ‚îî‚îÄ‚îÄ openai-service.js  # OpenAI API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ data/                   # Excel —Ñ–∞–π–ª—ã
‚îú‚îÄ‚îÄ package.json            # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ vercel.json            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Vercel
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üìä Excel —Ñ–æ—Ä–º–∞—Ç

–ë–æ—Ç –æ–∂–∏–¥–∞–µ—Ç Excel —Ñ–∞–π–ª —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

| –ö–æ–ª–æ–Ω–∫–∞ A | –ö–æ–ª–æ–Ω–∫–∞ B | –ö–æ–ª–æ–Ω–∫–∞ C |
|-----------|-----------|-----------|
| –î–µ–Ω—å 1    | M1        | –ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞ |
|           |           | –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã |
|           |           | –†–µ—Ü–µ–ø—Ç |
|           | M2        | –ù–∞–∑–≤–∞–Ω–∏–µ –±–ª—é–¥–∞ |
|           |           | –ò–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã |
|           |           | –†–µ—Ü–µ–ø—Ç |
| ...       | ...       | ... |

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- **Webhook –∑–∞—â–∏—Ç–∞**: –°–µ–∫—Ä–µ—Ç–Ω—ã–π —Ç–æ–∫–µ–Ω `TG_SECRET`
- **–í–∞–ª–∏–¥–∞—Ü–∏—è**: –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è**: –¢–æ–ª—å–∫–æ POST –∑–∞–ø—Ä–æ—Å—ã –∫ webhook
- **–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ**: –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

## üêõ –û—Ç–ª–∞–¥–∫–∞

### –õ–æ–≥–∏ Vercel
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Vercel Dashboard
- –ò—â–∏—Ç–µ –æ—à–∏–±–∫–∏ –≤ Function Logs

### –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ webhook
- –û—Ç–∫—Ä–æ–π—Ç–µ `/api/set-webhook` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å—Ç–∞—Ç—É—Å–∞
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Telegram Bot API –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```bash
# –í Vercel Dashboard –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
echo $TELEGRAM_TOKEN
echo $TG_SECRET
echo $KV_REST_API_URL
echo $PUBLIC_URL
```

## üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ë–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É:
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–ø—Ä–æ—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏—è

–î–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–æ—Ç–∞:
1. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥
2. –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ
3. Vercel –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç –ø—Ä–æ–µ–∫—Ç

## ü§ù –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏** –≤ Vercel Dashboard
2. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏** –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ñ–æ—Ä–º–∞—Ç** Excel —Ñ–∞–π–ª–∞
4. **–£–±–µ–¥–∏—Ç–µ—Å—å –≤ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏** –±–æ—Ç–∞ —É @BotFather

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω –¥–ª—è –ª–∏—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è.

---

**–£–¥–∞—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üéâ**
# Environment variables configured
Redis database connected
